<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="apple-touch-icon" sizes="57x57" href="http://www.joshuastevens.net/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="http://www.joshuastevens.net/apple-icon-60x60.png">
    <link rel="icon" type="image/png" sizes="32x32" href="http://www.joshuastevens.net/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="http://www.joshuastevens.net/favicon-16x16.png">
    <link rel="manifest" href="http://www.joshuastevens.net/manifest.json">

    <title>
      Joshua Stevens - Put a Hex on Custom Color Ramps in QGIS and Python
    </title>

    <link href="http://www.joshuastevens.net/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://www.joshuastevens.net/css/style.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Poppins:300" rel="stylesheet">
    <link rel="stylesheet" href="http://www.joshuastevens.net/css/font-awesome.min.css">
    
    <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/ocean.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@jscarto" />
    <meta name="twitter:title" content="Joshua Stevens - Put a Hex on Custom Color Ramps in QGIS and Python" />
    
    <meta name="twitter:image" content="http://www.joshuastevens.net/images/default_th.png" />
    <meta name="twitter:description" content=""/>
    <meta property="og:image" content="http://www.joshuastevens.net/images/default_th.png" />
    <meta name="description" content=""/>
     <meta property="og:description" content=""/>
    
  </head>

  <nav class="navbar navbar-expand-md sticky-top navbar-light bg-light">
      <div class="container">
        <a class="navbar-brand" href="http://www.joshuastevens.net/"><img src="http://www.joshuastevens.net/css/js_logo.png" /> Joshua Stevens</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item ">
              <a class="nav-link" href="http://www.joshuastevens.net/">Home</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="http://www.joshuastevens.net/blog/">Blog</a>
            </li>
            <li class="nav-item ">
              <a class="nav-link" href="http://www.joshuastevens.net/about/">About</a>
            </li>
            <li class="nav-item ">
              <a class="nav-link" href="http://www.joshuastevens.net/portfolio/">Work</a>
            </li>
            <li class="nav-item ">
              <a class="nav-link" href="http://www.joshuastevens.net/contact/">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
	
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.10&appId=240209906031266";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<script>hljs.initHighlightingOnLoad();</script>
<div class="container">
	<div class="article">

	<h1 class="title">Put a Hex on Custom Color Ramps in QGIS and Python</h1>
	<div class="postDate">
		<i class="fa fa-calendar"></i> January 15, 2018
	</div>

	<p>It is now 2018. The good news: by now, both QGIS and Python (via Matplotlib) come with a great selection of percetually linear palletes from <a href="http://colorbrewer2.org/">Colorbrewer</a>, as well as Viridis, Inferno, Magma, and Plasma. The bad news: creating your own color ramp can be a bit tedius.</p>

<p>Back in 2011, <a href="https://anitagraser.com/">Anita Graser</a> created <a href="http://colorbrewer2.org/">Colorbrewer color ramps for QGIS</a>. Not long afterward, Colorbrewer palettes were included as defaults. As most QGIS users can attest, this has come in super handy for years.</p>

<p>While Colorbrewer palettes are great choices, they are not the only option. What if you make your own palette, or find one online? In 2017, importing a faithful copy of custom color palettes into QGIS is still a little cumbersome. This post will show you how to do it - and once more, it is largely thanks to the excellent work of Anita.</p>

<h2 id="first-things-first-finding-color-palettes">First Things First: Finding Color Palettes</h2>

<p>Making a color palette is easy. Making a good color palette—one that considers human perception and common vision deficiencies, and one that changes congruently with the underlying data—is much harder. Fortunely, a number of folks have worked hard to bring great palettes to the masses.</p>

<p>The links below are great resources for expertly crafted color palettes:</p>

<pre><code class="language-python">from PyQt4.QtGui import QColor

paletteName = '' # give the palette a name
colors = [] # replace with hex values

color1 = QColor(colors[0])
color2 = QColor(colors[-1])
stops = []

ramp = QgsVectorGradientColorRampV2(color1,color2,1,stops)
tags = []

if len(colors) &gt; 2:
    step = 1.0 / (len(colors))
    for i, color in enumerate(colors[1:]):
        stops.append(QgsGradientStop(step * (i+1), QColor(color)))
    ramp.setStops(stops)

QgsStyleV2.defaultStyle().removeColorRamp(paletteName)
QgsStyleV2.defaultStyle().addColorRamp(paletteName, ramp, 0)
QgsStyleV2.defaultStyle().saveColorRamp(paletteName, ramp, 0, tags)
</code></pre>

	<hr>

	<div class="social">
		<span class="text-muted">Share This</span>
		<br>
		<div class="social-btn">
			<a href="https://twitter.com/share" class="twitter-share-button" data-size="large" data-via="jscarto" data-show-count="false">Tweet</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
		</div>

		<div class="fb-share-button social-btn" data-href="http://www.joshuastevens.net/blog/put-a-hex-on-custom-color-ramps-in-qgis-and-python/" data-layout="button" data-size="large" data-mobile-iframe="true">
			<a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fwww.joshuastevens.net%2fblog%2fput-a-hex-on-custom-color-ramps-in-qgis-and-python%2f&amp;src=sdkpreparse">Share</a>
		</div>
	</div>

	<br>

	<div class="d-flex justify-content-between pagination text-small">
		<a href="http://www.joshuastevens.net/blog/now-on-hugo/"><i class="fa fa-arrow-left"></i> Now on Hugo</a>
		
		
		<a href="http://www.joshuastevens.net/blog/landsat-fact-meets-fiction-in-kong-skull-island/">Landsat Fact Meets Fiction in Kong: Skull Island <i class="fa fa-arrow-right"></i></a>
		</div>

	<div id="disqus_thread"></div>
	<script type="text/javascript">
	    var disqus_shortname = 'joshuastevens';
	    (function() {
	        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	    })();
	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
	</div>
</div>


<footer class="footer">
      <div class="container">
        <div class="row">
        <div class="col-sm-12 col-md-5 footer-left">
          <ul>
            <li><a  href="http://www.joshuastevens.net/">Home</a></li>
            <li><a class="active" href="http://www.joshuastevens.net/blog/">Blog</a></li>
            <li><a  href="http://www.joshuastevens.net/about/">About</a></li>
            <li><a  href="http://www.joshuastevens.net/portfolio/">Works</a></li>
            <li><a  href="http://www.joshuastevens.net/contact/">Contact</a></li>
          </ul>
          </div>
          <div class="col-sm-12 col-md-2 footer-mid"><a href="https://twitter.com/jscarto"><i class="fa fa-twitter fa-2x"></i></a> &nbsp; <a href="https://www.linkedin.com/in/jscarto/"><i class="fa fa-linkedin fa-2x"></i></a></div>
          <div class="col-sm-12 col-md-5 footer-right">© 2017 Joshua Stevens</div>
        </div>
      </div>
    </footer>
     <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="http://www.joshuastevens.net/js/bootstrap.min.js"></script>
    <script src="http://www.joshuastevens.net/js/ie10-viewport-bug-workaround.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
        ga('create', 'UA-39165504-1', 'joshuastevens.net');
        ga('send', 'pageview');
    </script>
  </body>
</html>