<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Joshua Stevens</title>
  <subtitle>Cartography and Visualization</subtitle>
  <id>http://www.joshuastevens.net/</id>
  <link href="http://www.joshuastevens.net/"/>
  <link href="http://www.joshuastevens.net/feed.xml" rel="self"/>
  <updated>2015-02-18T00:00:00-05:00</updated>
  <author>
    <name>Blog Author</name>
  </author>
  <entry>
    <title>Bivariate Choropleth Maps: A How-to Guide</title>
    <link rel="alternate" href="http://www.joshuastevens.net/cartography/make-a-bivariate-choropleth-map/"/>
    <id>http://www.joshuastevens.net/cartography/make-a-bivariate-choropleth-map/</id>
    <published>2015-02-18T00:00:00-05:00</published>
    <updated>2015-02-21T11:05:52-05:00</updated>
    <author>
      <name>Josh</name>
    </author>
    <content type="html">&lt;div class="fullImage"&gt;
&lt;img src="/images/bivariate_th.png" /&gt;
&lt;/div&gt;

&lt;p&gt;&lt;em&gt;&amp;ldquo;I&amp;rsquo;m not bivariate, but I am curious.&amp;rdquo;&lt;/em&gt;  That quip has been stuck in my mind ever since I overheard it at the 2013 &lt;a href="http://nacis.org/"&gt;NACIS&lt;/a&gt; conference in Greenville, SC. Not only was it perfectly timed after a talk about bivariate mapping, but it rang with a great deal of truth: a lot of folks aren&amp;rsquo;t creating bivariate maps, but they want to try. While it was just a joke and the person who made it can easily create bivariate maps, most people find them too difficult or mysterious.&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s a real shame because bivariate choropleth maps are incredibly useful and very easy to make. So let&amp;rsquo;s go ahead and make one!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Synopsis:&lt;/strong&gt; This post introduces the idea of bivariate choropleth mapping and demonstrates a technique for creating your own. Although I show some screenshots from QGIS, emphasis is placed on the concepts of the method rather than any particular tool or language. This technique will work with any software you prefer! A graphics program like Photoshop, Illustrator, &lt;a hef="https://inkscape.org/en/"&gt;Inkscape&lt;/a&gt;, or similar will be helpful if you choose to also create your own color scheme.&lt;/em&gt;&lt;/p&gt;

&lt;h1&gt;What is a Bivariate Choropleth Map, Anyway?&lt;/h1&gt;

&lt;h4&gt;First things first: Univariate Choropleth Maps&lt;/h4&gt;

&lt;p&gt;Before we make a bivariate choropleth map, let&amp;rsquo;s quickly cover the concept of univariate choropleth maps. Done correctly, basic choropleth maps use color to show quantities within geographic areas - such as states, US counties, or even countries. The term &lt;em&gt;choropleth&lt;/em&gt; derives from Greek: &lt;em&gt;choro&lt;/em&gt; (area) + &lt;em&gt;plethos&lt;/em&gt; (multitude). The example below shows a typical choropleth map:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/NYT_unemploymentMap.png" /&gt;
&lt;p&gt;A univariate choropleth map of unemployment rates in the United States. Source: &lt;a href="http://www.nytimes.com/interactive/2009/03/03/us/20090303_LEONHARDT.html"&gt;The New York Times&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;

&lt;h4&gt;Normalize, normalize, normalize!&lt;/h4&gt;

&lt;p&gt;Notice that the map above uses unemployment &lt;em&gt;rates&lt;/em&gt;, and not the total number of unemployed people. The use of proportions, or rates, instead of raw counts is fundamental to creating a proper choropleth map. If the map above used a raw count of the total number of unemployed people for each county, it would be subject to bias introduced by the size of each county. Larger geographic areas tend to have more people by virtue of having more space for people to live in. Using raw counts would show that: unemployment would seem higher in larger counties, not because unemployment is more common there but simply because there are more people there. That wouldn&amp;rsquo;t make a very interesting map.&lt;/p&gt;

&lt;p&gt;Instead, choropleth maps should be &lt;a href="http://www.gsd.harvard.edu/gis/manual/normalize/"&gt;&lt;strong&gt;normalized&lt;/strong&gt;&lt;/a&gt;. The process of normalization accounts for differences in geographic areas by converting raw counts to rates or proportions. Population density is a great example of normalized data. It represents the number of persons &lt;em&gt;per unit of geographic area&lt;/em&gt; (often square miles or kilometers).&lt;/p&gt;

&lt;p&gt;When social data are not normalized, they tend to reflect trends in where people live rather than interesting variations in the phenomena of interest. &lt;a href="http://xkcd.com/1138/"&gt;Obligatory XKCD&lt;/a&gt;.&lt;/p&gt;

&lt;h4&gt;Bivariate Choropleths: Mostly The Same, Now More Variate&lt;/h4&gt;

&lt;p&gt;Bivariate choropleths follow the same concept, except they show &lt;em&gt;two variables&lt;/em&gt; at once. For example, the inset map in my &lt;a href="http://www.joshuastevens.net/visualization/squatch-watch-92-years-of-bigfoot-sightings-in-us-and-canada/"&gt;visualization of bigfoot sightings&lt;/a&gt; is a bivariate choropleth of sightings and population density:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/bf_bivariate.png" /&gt;
&lt;/div&gt;

&lt;p&gt;Ideally, you should at least have a hunch two variables are related when creating bivariate choropleth maps. This is because bivariate maps go further than simply showing two variables all willy nilly: they show where those two variables tend to be in agreement or disagreement. If there is no expectation that the two variables might be related, a bivariate choropleth is not the right choice.&lt;/p&gt;

&lt;p&gt;Showing the agreement between two variables is also why the number of classes in a bivariate choropleth is larger than the combined sum of classes in each variable alone.  In general, if the individual variables have &lt;em&gt;n&lt;/em&gt; classes, the bivariate choropleth map will have n&lt;sup&gt;2&lt;/sup&gt; classes.&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/choroMath.png" /&gt;
&lt;p&gt;And then there were nine: Combining two 3-class univariate maps produces one 9-class bivariate map.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Most cartographers advise against maps with 9 or more classes. Thus it is recommended to keep things super simple when creating bivariate choropleth maps by not exceeding 3 classes in each variable.&lt;/p&gt;

&lt;h1&gt;Neat. So How Are These Things Made?&lt;/h1&gt;

&lt;p&gt;When making a bivariate choropleth map, the goal is to show a sequence of two variables and their combinations. I find it easiest to think through these relationships with something visual to refer to. So the first thing I do is create (or choose) a color scheme.&lt;/p&gt;

&lt;h4&gt;Start With a Legend&lt;/h4&gt;

&lt;p&gt;Remember that bivariate maps have a lot going on, so it is best to keep things simple to start with. We don&amp;rsquo;t want to exceed 9 classes total, so we&amp;rsquo;re going to have each variable step through only 3 classes.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1)&lt;/strong&gt; Begin by creating a 3-class sequential color scheme for one of your variables. The color scheme should begin with a very light, neutral color that will represent the lows for the first variable. The color scheme gradually becomes darker and more saturated towards a hue of your choice that will represent the highs. The middle color should be the same hue as the end color, but its saturation should be lower while the brightness is higher:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/bivariateGrid.png" /&gt;
&lt;p&gt;Keep it simple: Use a single hue, with increasing saturation and value (darkness).&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;2)&lt;/strong&gt; Now do the same for the other variable. This time, choose a hue that is quite different from the first. Choosing a &lt;a href="http://www.tigercolor.com/color-lab/color-theory/color-harmonies.htm"&gt;complementary color&lt;/a&gt; can be a good start. But make sure to go slightly off center of complementary by picking a neighbor to the complement. This will give your final scheme a better shot at being colorblind-safe (you can fine-tune the final color scheme later to help with this).&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/bivariateGrid2.png" /&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;3)&lt;/strong&gt; So far, we have colors to represent 6 classes, but we need 9. To do that, turn each of the rectangular color schemes into squares by stretching (or duplicating) them vertically, like so:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/bivariateGrid3.png" /&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;4)&lt;/strong&gt; Now take the color scheme for the first variable and rotate it 90Â° counter-clockwise so that the neutral (low) color is on the bottom and the high is on top:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/bivariateGrid4.png" /&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;5)&lt;/strong&gt; This is where the magic happens. In Photoshop, Illustrator, or another capable graphics program, change the blending mode of the first color scheme to &lt;em&gt;darken&lt;/em&gt;. Then position the first color scheme so that it perfectly overlays the second one. Suddenly, a new palette emerges revealing both variables:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/bivariateMix.gif" /&gt;
&lt;p&gt;The first color scheme now mixes with and darkens the colors beneath it, creating a 9-class bivariate color scheme. Experiment with other blending modes. &amp;lsquo;Multiply&amp;rsquo; also works well.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;6)&lt;/strong&gt; Almost there. We now have a 9-class bivariate sequential color scheme, but it needs a little more work. The top right cell of this grid - the dark blue color - represents cases when &lt;em&gt;both&lt;/em&gt; variables are high. As such, it should be the most salient color in the palette. To make that happen, let&amp;rsquo;s increase its saturation a bit. We&amp;rsquo;ll also adjust the color of the central cell, bringing its hue closer to the corner blue to further distinguish it as a mix of the two variables:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/bivariateGrid7.png" /&gt;
&lt;/div&gt;

&lt;p&gt;That step takes some practice. If you&amp;rsquo;ve been following along with different color choices, you&amp;rsquo;ll have to tweak things a bit differently from what is shown here. But the goal is the same: the color scheme should clarify relationships in the data along three paths, each sequentially arranged to increase in both saturation and darkness:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/bivariatePaths.png" /&gt;
&lt;/div&gt;

&lt;p&gt;With a color scheme in hand, it&amp;rsquo;s time to classify the data and bring this thing to life.&lt;/p&gt;

&lt;h4&gt;Classify Your Data&lt;/h4&gt;

&lt;p&gt;Most GIS and visualization tools only let you select one attribute for classification. So how in the world could we get it to use two variables? Easy peasy: create a third attribute that represents the combination of the two variables by its location in the bivariate color scheme.&lt;/p&gt;

&lt;p&gt;The most straightforward way to do this is to simply label the cells of the color palette. Mark cells in horizontal order with &lt;strong&gt;A&lt;/strong&gt;, &lt;strong&gt;B&lt;/strong&gt;, or &lt;strong&gt;C&lt;/strong&gt;. Then mark the cells in vertical order with &lt;strong&gt;1&lt;/strong&gt;, &lt;strong&gt;2&lt;/strong&gt;, or &lt;strong&gt;3&lt;/strong&gt;:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/bivariateLabels.png" /&gt;
&lt;/div&gt;

&lt;p&gt;Labeled like this, the lowest value for both variables becomes A1, while the cell that represents the max for both becomes C3. Any combination of the two variables can be identified by its position in the color scheme. We now have a labeling system that the GIS can use as categories to symbolize the data.&lt;/p&gt;

&lt;p&gt;This is where my examples become specific to QGIS, but the same approach can be applied to ArcGIS or any other software.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1)&lt;/strong&gt; The first thing to do is go into the symbology properties as if you were making a standard choropleth map using your first variable. Don&amp;rsquo;t worry about the colors - just the classification. Choose whichever classification method works best for your purposes. (Need help choosing a classification method? John Nelson has a great &lt;a href="http://uxblog.idvsolutions.com/2011/10/telling-truth.html"&gt;overview of common methods&lt;/a&gt;.) &lt;/p&gt;

&lt;p&gt;Change the number of classes to 3 and record the breakpoints:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/classificationVar2.png" /&gt;
&lt;p&gt;My &amp;lsquo;variable one&amp;rsquo; classified into 3 groups in &lt;a href="http://www.qgis.org"&gt;QGIS&lt;/a&gt;. For the curious: these data represent donations to Obama&amp;rsquo;s campaign in 2012.
&lt;/div&gt;

&lt;p&gt;Using the information in the screenshot above, the breakpoints are 500.00 and 6098.66.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2)&lt;/strong&gt; Now create a new field in your attribute table. This is going to record the class for the first variable, which goes vertically in our color palette from 1 to 3. In other words, the new field will convert the actual data values into a 1, 2, or 3. This is done using the breakpoints found in Step 1 above. &lt;/p&gt;

&lt;p&gt;Add a new &lt;em&gt;integer&lt;/em&gt; column to the attribute table named &lt;code&gt;Var1_Class&lt;/code&gt;. To populate it with the proper information, use the field calculator with the following expression (replace &lt;em&gt;&amp;ldquo;donations&amp;rdquo;&lt;/em&gt; with the field name of your first variable, and using your own breakpoints):&lt;/p&gt;
&lt;div class="highlight python"&gt;&lt;table style="border-spacing: 0"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class="gutter gl" style="text-align: right"&gt;&lt;pre class="lineno"&gt;1
2
3
4&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;&lt;span class="n"&gt;CASE&lt;/span&gt; &lt;span class="n"&gt;WHEN&lt;/span&gt;  &lt;span class="s"&gt;"donations"&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mf"&gt;6098.66&lt;/span&gt; &lt;span class="n"&gt;THEN&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;
    &lt;span class="n"&gt;WHEN&lt;/span&gt; &lt;span class="s"&gt;"donations"&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="mf"&gt;6098.66&lt;/span&gt; &lt;span class="n"&gt;AND&lt;/span&gt; &lt;span class="s"&gt;"donations"&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mf"&gt;500.00&lt;/span&gt; &lt;span class="n"&gt;THEN&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
    &lt;span class="n"&gt;ELSE&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;END&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p class="fullImage"&gt;
This works in QGIS, but you&amp;rsquo;ll have to alter the syntax and approach based on your software of choice.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;3)&lt;/strong&gt; Repeat steps 1 &amp;amp; 2 above for the second variable, using its own breakpoints found in the same way. This time, add a new &lt;em&gt;string&lt;/em&gt; column called &lt;code&gt;Var2_Class&lt;/code&gt; and populate it with the characters A, B, or C (change &lt;em&gt;&amp;ldquo;perInsured&amp;rdquo;&lt;/em&gt; to the name of your variable two, and replace the breakpoints with your own):&lt;/p&gt;
&lt;div class="highlight python"&gt;&lt;table style="border-spacing: 0"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class="gutter gl" style="text-align: right"&gt;&lt;pre class="lineno"&gt;1
2
3
4&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;&lt;span class="n"&gt;CASE&lt;/span&gt; &lt;span class="n"&gt;WHEN&lt;/span&gt;  &lt;span class="s"&gt;"perInsured"&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;86&lt;/span&gt;  &lt;span class="n"&gt;THEN&lt;/span&gt; &lt;span class="s"&gt;'C'&lt;/span&gt;
    &lt;span class="n"&gt;WHEN&lt;/span&gt; &lt;span class="s"&gt;"perInsured"&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="mi"&gt;86&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="s"&gt;"perInsured"&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt; &lt;span class="n"&gt;THEN&lt;/span&gt; &lt;span class="s"&gt;'B'&lt;/span&gt;
    &lt;span class="n"&gt;ELSE&lt;/span&gt; &lt;span class="s"&gt;'A'&lt;/span&gt;
&lt;span class="n"&gt;END&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;After performing these steps, you should now have two new fields in your attribute table representing numbers 1-3 and characters A-C:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/bivariateAttributes.png" /&gt;
&lt;p&gt;The first 10 records of my attribute table, with new fields (highlighted) showing the ranking for our labeling system.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;4)&lt;/strong&gt; All the necessary information is now in the attribute table. The last trick is to simply combine the new fields into one. This last column will represent the data&amp;rsquo;s position in the bivariate color scheme.&lt;/p&gt;

&lt;p&gt;To combine the columns, create a new string field called &lt;code&gt;Bi_Class&lt;/code&gt;. Then using the field calculator, enter the expression below:&lt;/p&gt;
&lt;div class="highlight python"&gt;&lt;table style="border-spacing: 0"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class="gutter gl" style="text-align: right"&gt;&lt;pre class="lineno"&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt; &lt;span class="n"&gt;concat&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Var2_Class"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;tostring&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Var1_Class"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;This fills the new column with information that identifies which cell in the bivariate color scheme to use when symbolizing the data:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/bivariateAttributes2.png" /&gt;
&lt;p&gt;The database now has entries pairing the variables with their position in the bivariate color scheme.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;5)&lt;/strong&gt; The final step is the easiest! Simply symbolize the map as a &lt;em&gt;categorized&lt;/em&gt; choropleth using &lt;code&gt;Bi_Class&lt;/code&gt; as the data column. Refer to the labeled color palette to know which class gets which color:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/bivariateSymbolization.png" /&gt;
&lt;p&gt;Tip: If you&amp;rsquo;re using QGIS, use the &amp;lsquo;eye dropper&amp;rsquo; tool to copy each color from the palette over to the appropriate value in the style window.
&lt;/div&gt;

&lt;h4&gt;Et Voila!&lt;/h4&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/finalBivariateMap.png" /&gt;
&lt;p&gt;The final 9-class bivariate map. Each bivariate class identifier is recorded in the GIS.&lt;/p&gt;
&lt;/div&gt;

&lt;h1&gt;Closing Tips, Caveats, and Other Hand Waving&lt;/h1&gt;

&lt;h4&gt;Tips&lt;/h4&gt;

&lt;p&gt;Bivariate data is often complicated and can confuse your readers. Keep this in mind and strive for simplicity. Don&amp;rsquo;t weight your legend down with too many decimal points and raw numbers - try to emphasize relative rankings.&lt;/p&gt;

&lt;p&gt;You can simplify things further by color coding the variables in the description. Then only label the corners of the bivariate legend. These are the most interesting scenarios on the map, and the intermediaries become obvious.&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/bivariateCornerLabels.png" /&gt;
&lt;p&gt;The corner cases are what make bivariate maps interesting. Help your readers understand what they mean.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Also consider the overall design of your map. If you&amp;rsquo;re designing for a dark background, the neutral color in your palette should also be dark. The color schemes for each variable should then increase in lightness instead of darkness.&lt;/p&gt;

&lt;p&gt;A similar type of mapping you should also be aware of is called &lt;a href="http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3173776/"&gt;value-by-alpha mapping&lt;/a&gt;. It was developed as a spatially accurate alternative to cartograms, though it shares some similarities with traditional bivariate choropleths.&lt;/p&gt;

&lt;h4&gt;Caveats&lt;/h4&gt;

&lt;p&gt;There&amp;rsquo;s a reason &lt;a href="http://www.colorbrewer2.org"&gt;ColorBrewer&lt;/a&gt; doesn&amp;rsquo;t provide handfuls of bivariate color schemes. If you try to make bivariate color schemes that are simultaneously colorblind-safe, photocopy-safe, and print friendly&amp;hellip;you&amp;rsquo;re going to have a bad time. &lt;/p&gt;

&lt;p&gt;When developing bivariate color schemes, which generally have three hues, you&amp;rsquo;ll likely have to forgo at least two of the properties ColorBrewer was designed to support. A bivariate color scheme is inherently more difficult to balance in this regard than a univariate palette that steps through only one or two hues.&lt;/p&gt;

&lt;p&gt;A colorblind-safe example of a bivariate color scheme can be found in the first map of Cindy Brewer&amp;rsquo;s older reference on color &lt;a href="http://www.personal.psu.edu/cab38/ColorSch/SchHTMLs/CBColorSeqSeq.html"&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you absolutely need to ensure your map is colorblind-safe, use the top color scheme in the above link. My color scheme used throughout this post will work, too. You may also want to consider other bivariate approaches - or whether a bivariate approach is sensible at all. With interactivity and small multiples as easy options, it is not always necessary (or even desirable) to show two or more variables at once.&lt;/p&gt;

&lt;h4&gt;Hand Waving&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;&amp;ldquo;Wait!!&amp;rdquo;&lt;/em&gt; I hear you say. &lt;em&gt;&amp;ldquo;If I can overlay two color palettes to create a bivariate color scheme, can&amp;rsquo;t I just do that with the full maps?!&amp;rdquo;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Yes. Yes you can. If you&amp;rsquo;re creating a quick one-off map, overlaying two univariate choropleths as you would the color palettes will instantly create a bivariate choropleth map. You can skip all the data manipulation and rely on color chemistry alone.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Here&amp;rsquo;s why I don&amp;rsquo;t recommend that as the go-to method:&lt;/strong&gt; Let&amp;rsquo;s say you create a bivariate choropleth by overlaying two univariate choropleths. Everything looks good, but you&amp;rsquo;re not happy with the color of the center cell in the palette. Since that color was the haphazard result of mixing entire maps, you&amp;rsquo;ll have to tweak one (or both) of the maps and overlay them again. This time, you might get the color right while adversely affecting the others. You&amp;rsquo;re now in a cat-and-mouse game with color choices, relying on trial-and-error for a fix.&lt;/p&gt;

&lt;p&gt;By storing the information in the database, you can easily apply a new color scheme or make changes to any single class without affecting the others. You have full control over each individual color, allowing you to fine-tune things to your liking. More importantly, you can query the database on this information for further analysis and statistics. That&amp;rsquo;s an &lt;em&gt;enormous&lt;/em&gt; advantage that can&amp;rsquo;t be overstated.&lt;/p&gt;

&lt;p&gt;The other glaring problem with overlaying two entire maps however is that it is limited to static maps. A data-driven approach is the way to go for web mapping and interactives. Rendering two separate maps in a browser to produce a color scheme is crazy talk. Render a single map, with the colors you precisely define, and save yourself a lot of time (and sanity)!&lt;/p&gt;

&lt;h1&gt;It&amp;rsquo;s Dangerous To Go Alone! Take This.&lt;/h1&gt;

&lt;p&gt;I&amp;rsquo;ve made a few sequential bivariate color schemes you&amp;rsquo;re free to use if you&amp;rsquo;d rather not make one yourself. They were designed for use on light backgrounds. &lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/bivariatePalettes.png" /&gt;
&lt;p&gt;These example palettes should get you off to a good start.&lt;/p&gt;
&lt;/div&gt;

&lt;h4&gt;Further Reading and Other Examples&lt;/h4&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href="http://www.personal.psu.edu/cab38/ColorSch/SchHTMLs/CBColorSeqSeq.html"&gt;Sequential-sequential bivariate color scheme examples and overview&lt;/a&gt; by Cindy Brewer.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.personal.psu.edu/cab38/ColorSch/Schemes.html"&gt;Color Use Guidelines for Mapping and Visualization&lt;/a&gt; by Cindy Brewer.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://andywoodruff.com/blog/value-by-alpha-maps/"&gt;Value-by-Alpha Maps&lt;/a&gt; by Andy Woodruff (technique developed with help from Rob Roth and Zach Johnson.  You can find their full paper &lt;a href="http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3173776/"&gt;here&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;a href="http://indiemapper.com/app/"&gt;IndieMapper&lt;/a&gt;, a Flash app that helps you design maps in your browser. Among many other great features, it supports bivariate choropleths.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.slideshare.net/aileenbuckley/arc-gis-bivariate-mapping-tools-28903069"&gt;ArcGIS Bivariate Mapping Tools&lt;/a&gt; by Aileen Buckley. It includes Esri&amp;rsquo;s collection of bivariate color schemes. Also check out &lt;a href="http://blogs.esri.com/esri/arcgis/2014/11/19/increase-your-transparency-with-arcgis-pro/"&gt;this blog post&lt;/a&gt; by Kenneth Field on new transparency options in ArcGIS Pro.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://resources.maphugger.com/melmer_webedition.pdf"&gt;Symbol Considerations for Bivariate Thematic Mapping (PDF)&lt;/a&gt; a thesis on bivariate mapping by Martin Elmer.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;If you make a sweet map using this tutorial, or have questions about it, drop me a line and let me know!&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>The Ebb and Flow of Polar Sea Ice</title>
    <link rel="alternate" href="http://www.joshuastevens.net/visualization/sea-ice-ebb-flow-visualized/"/>
    <id>http://www.joshuastevens.net/visualization/sea-ice-ebb-flow-visualized/</id>
    <published>2015-02-08T00:00:00-05:00</published>
    <updated>2015-02-08T20:55:08-05:00</updated>
    <author>
      <name>Josh</name>
    </author>
    <content type="html">&lt;div class="fullImage"&gt;
&lt;img src="/images/sea_ice_slices_th.png" /&gt;
&lt;/div&gt;

&lt;p&gt;In some very real ways, polar sea ice is the backbone of our planet&amp;rsquo;s climate. When more ice is present, its bright surface tends to reflect sunlight, cooling things down. When there is less white, snow-covered ice, the ocean&amp;rsquo;s surface becomes a bit darker. A darker ocean surface absorbs more sunlight, causing it to warm. The relationships between climate and ice are much more complicated than that, as the thickness of the ice also influences a variety of subsurface feedback loops that have long-term effects.&lt;/p&gt;

&lt;p&gt;But one thing is clear: the expansion and retreat of polar sea ice is cyclic. In the winter months, arctic sea ice grows. During the same time, antarctic ice in the south pole shrinks. In the summer, these trends reverse. This ebb and flow, like the &lt;a href="http://uxblog.idvsolutions.com/2013/07/a-breathing-earth.html"&gt;breathing of a living planet&lt;/a&gt;, happens every single year. &lt;/p&gt;

&lt;p&gt;Scientists have been monitoring that &amp;lsquo;breathing&amp;rsquo; pattern for decades, looking for changes in cycles that occur over many, many years. By measuring the rate of the &amp;lsquo;inhales&amp;rsquo; (ice growth in the north pole/loss of ice in the south pole) and &amp;lsquo;exhales&amp;rsquo; (ice loss in the north pole/growth in the south pole), we can track the long-term health of the climate.&lt;/p&gt;

&lt;p&gt;For the past few days, I&amp;rsquo;ve been creating maps and charts of polar sea ice using data from instruments aboard &lt;a href="http://nssdc.gsfc.nasa.gov/nmc/spacecraftDisplay.do?id=1978-098A"&gt;NASA&amp;rsquo;s Nimbus 7&lt;/a&gt; satellite. In total, these data feature 19,710 daily records of geographic ice extents - 9,855 for each of the two poles. That&amp;rsquo;s far too many maps to fit in your browser. Even if the maps were an animated sequence - at the standard 24 frames-per-second, the animation would be almost 7 minutes long.&lt;/p&gt;

&lt;p&gt;Instead, I wanted to show &lt;em&gt;all&lt;/em&gt; of the data at once.&lt;/p&gt;

&lt;p&gt;To make that happen, I first generated all 19,710 daily maps. I then smooshed each map horizontally, simplifying the maps to a 1-pixel-wide snapshot of the poles&amp;#39; maximum north-south sea ice extent for that day. Each pixel strip was then stitched together, side-by-side.&lt;/p&gt;

&lt;p&gt;This was the result:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/sea_ice_slices_800w.png" /&gt;
&lt;p&gt;The image above has been scaled down significantly. The super mega wide original depicts each day as a 1-pixel wide slice, making it 9,855 pixels long. For a hi-res version that is still reasonably sized for your browser, click &lt;a href="../../images/sea_ice_slices_hi.png"&gt; here&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;The cyclic pattern of each pole is evident - as is the alignment of each pole&amp;rsquo;s individual cycle. The waxing of one pole almost perfectly pairs with the waning of the other. A climatic system that looks like breathing when viewed annually appears as interlocked structures in the long view. &lt;/p&gt;

&lt;p&gt;It&amp;rsquo;s as if Earth had bones and these are its vertebrae.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>HDRI Lighting for Shaded Relief Maps</title>
    <link rel="alternate" href="http://www.joshuastevens.net/cartography/hdri-lighting-for-shaded-relief-maps/"/>
    <id>http://www.joshuastevens.net/cartography/hdri-lighting-for-shaded-relief-maps/</id>
    <published>2014-08-08T01:00:00-04:00</published>
    <updated>2014-08-24T23:12:21-04:00</updated>
    <author>
      <name>Josh</name>
    </author>
    <content type="html">&lt;div class="fullImage"&gt;
&lt;img src="/images/shadedRelief_featured.png" /&gt;
&lt;/div&gt;

&lt;p&gt;Shaded relief maps are among my favorite of all map types. Not only do they form the foundation for many other maps and derivative layers, they present a fascinating challenge: depicting an abstraction of terrain in a natural way while balancing accuracy with aesthetics.&lt;/p&gt;

&lt;p&gt;This push and pull between modeling a natural phenomenon (the illumination of Earth and the shadows cast by the sun) with artistic purposes has captivated cartographers for centuries. It&amp;rsquo;s no surprise that as technology advanced, so too did the modeling of the sun&amp;rsquo;s rays. With this in mind, I wondered how techniques in 3D ray tracing carry over to shaded relief mapping. &lt;/p&gt;

&lt;h1&gt;Shaded Relief&lt;/h1&gt;

&lt;p&gt;In common GIS software, relief mapping is made relatively easy. Typically, the user inputs a Digital Elevation Model (&lt;a href="http://en.wikipedia.org/wiki/Digital_elevation_model"&gt;DEM&lt;/a&gt;) and specifies some parameters for the sun - most often its altitude, azimuth, and ambient strength. The software then decides, based on a simulation of light cast with these properties, which features of the elevation model are lit and which are not. This process forms a gradient of shadows and highlights that reveal the structure of the terrain, based on the height of the terrain and how directly it faces the source of the light.&lt;/p&gt;

&lt;p&gt;There is a major drawback to this process in common GIS software: it only identifies which terrain features are lit directly by the sun, and how strongly each is lit. In the natural world, light does not terminate once it strikes an object - it reflects. The reflected ray, now slightly diminished in strength, might then strike another feature. Again, the ray is reflected, and this process continues until the angle of reflection sends the ray skyward or the light has been absorbed.&lt;/p&gt;

&lt;h1&gt;Ray Tracing&lt;/h1&gt;

&lt;p&gt;Accurately modeling the bouncing of light across objects, and how it reflects, refracts, and depletes is known as &lt;a href="https://www.cs.unc.edu/~rademach/xroads-RT/RTarticle.html"&gt;ray tracing&lt;/a&gt; in the 3D modeling world. In 3D modeling and rendering software, one has much greater control over light sources than is provided by most GIS software. In addition to simulating light rays more accurately, most 3D modeling software can depict various textures to further refine how light behaves. For instance, you could specify your terrain to be shiny, diffuse, or even to emit its own light. As a result, 3D applications are an attractive alternative for shaded relief mapping. &lt;/p&gt;

&lt;p&gt;Daniel Huffman has a great &lt;a href="http://somethingaboutmaps.wordpress.com/2014/01/01/blender-tutorial/"&gt;tutorial series&lt;/a&gt; showing how this can be done in Blender, an open source 3D modeling application. The results are superb and I highly recommend the technique.&lt;/p&gt;

&lt;p&gt;Ray tracing is typically done with one (or more) kinds of light sources. In Blender, there are &lt;a href="http://wiki.blender.org/index.php/Doc:2.6/Manual/Lighting/Lamps"&gt;5 types of light sources&lt;/a&gt; - or &amp;ldquo;lamps.&amp;rdquo; A &lt;strong&gt;point&lt;/strong&gt; lamp emits light spherically in all directions. A &lt;strong&gt;spot&lt;/strong&gt; lamp directionally aims light, similar to a flashlight. An &lt;strong&gt;area&lt;/strong&gt; lamp emits light from a planar surface. A &lt;strong&gt;hemi&lt;/strong&gt; lamp emits light in a 180Â° arc, and a &lt;strong&gt;sun&lt;/strong&gt; lamp mimics (you guessed it) the sun. The sun lamp attempts greater realism by eliminating the distant falloff of light that occurs with the other lamps.&lt;/p&gt;

&lt;p&gt;Each of these light sources have various parameters that can be adjusted, such as size, distance, intensity, direction, and color (note that distance is irrelevant when using the sun lamp). The lamps also emit light with different behaviors which produces very different results during ray tracing. For instance, illuminating a DEM with a small point light will create sharp highlights nearest the source with an obvious dimming at greater distances:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/point_5size_1750int.png" /&gt;
&lt;p&gt;A DEM ray traced using a small, low intensity point light. Yuck!&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;We can mitigate this effect slightly by increasing both the size and intensity of the point light. Increasing the size will more evenly light the area at all distances, though the light will become quite dull and weak. To compensate, the intensity of the light also needs to be increased. Doing so produces the following result:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/point_40size_12500.png" /&gt;
&lt;p&gt;A DEM ray traced using a large, high intensity point light. Meh&amp;hellip;&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;The result above is a little better, but the shadows in the southeast still indicate their distance from the light. Let&amp;rsquo;s crank up the intensity some more:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/point_40size_42000.png" /&gt;
&lt;p&gt;A DEM ray traced using a large, very high intensity point light. Slightly better.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Overall there is some improvement, but again, it is evident that the terrain nearest the light is being lit more brightly than distant features. We could theoretically keep increasing the distance of the point light, while ramping up its intensity, to provide fully uniform lighting.&lt;/p&gt;

&lt;p&gt;Or we could just use the sun lamp, which increasing the distance and intensity of the point lamp would only approximate. When using the sun lamp, we gain more even lighting and a rather realistic depiction of shadows. Notice the increased range of shadows in the highlighted region:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/plainSun_detail.png" /&gt;
&lt;p&gt;Using the sun lamp produces a much better result, with clearer indications of reflected light from a completely uniform source.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Using a ray traced sun produces a relief map that is incredibly well lit. It has smooth gradations between light and dark while persevering highlighted peaks and deep, dark shadows where necessary. With a few minor tweaks, I would be very happy with this version.&lt;/p&gt;

&lt;h1&gt;High Dynamic Range Imagery&lt;/h1&gt;

&lt;p&gt;Before becoming a cartographer, creating 3D scenes in Lightwave was my hobby. For side projects, I&amp;rsquo;d create 3D meshes for others to buy and use in their own projects. One of the best ways to advertise the quality of a model was to render it in a stunningly well-lit environment. Since it would take a lot of time to model a forest, or a futuristic kitchen full of appliances, I stumbled across a shortcut: &lt;a href="http://www.unparent.com/photos_probes.html"&gt;HDRI probes&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href="http://en.wikipedia.org/wiki/High_dynamic_range_imaging"&gt;HDRI&lt;/a&gt;, or High Dynamic Range Imaging, is a method for capturing photos with a significantly greater range of luminosity than is typical of conventional photography. When combined with a file format (&lt;a href="http://en.wikipedia.org/wiki/RGBE_image_format"&gt;.hdr&lt;/a&gt;) that stores more data per pixel than the average image format, it becomes possible to retain an enormous amount of the light-emitting properties of a photo.&lt;/p&gt;

&lt;p&gt;Since HDR images are so luminous, 3D modelers often use them to light their scenes. This technique has three primary advantages:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Instead of lighting objects in a uniform color, as is done in GIS software and single-source 3D techniques, HDR images emit both &lt;a href="http://dativ.at/lightprobes/"&gt;light &lt;em&gt;and&lt;/em&gt; color&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;HDR lighting greatly reduces rendering time. Since the equivalent in a fully modeled world would require numerous objects and multiple &amp;ldquo;bounces&amp;rdquo; of light, cutting out these steps saves a ton of time.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;With effective depth-of-field, HDR images can serve as the backdrop of a scene.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The last item isn&amp;rsquo;t really important for relief mapping since we often depict terrain orthographically, so the area surrounding the terrain is out of view. But the first two are incredibly useful.&lt;/p&gt;

&lt;h1&gt;Using HDRI Lighting for Shaded Relief&lt;/h1&gt;

&lt;p&gt;Using HDR images as a light source first requires a &lt;em&gt;probe.&lt;/em&gt; These are HDR photos, often of spheres with a mirror surface, that can be projected onto other surfaces. By reprojecting the image back onto the inside of a hollow sphere, you can mimic the environment and ambient light sources of the original scene. The example below shows an HDR probe of Galileo&amp;rsquo;s Tomb, and a scene rendered using that probe. There are no other light sources in the scene; everything is lit with ambient light as if it sat in the same room in which the probe was taken:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/galileo_example.png" /&gt;
&lt;p&gt;An HDR probe of Galileo&amp;rsquo;s Tomb (left) and a mesh rendered using the probe as a light source. Images from &lt;a href="http://www.pauldebevec.com/Probes/"&gt;Paul Debevec&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;What would a shaded relief look like using this technique? To find out, I created a scene in which the DEM was lit by Galileo&amp;rsquo;s Tomb (a fitting example for a geographic study). When rendered using this HDR probe, the shaded relief looks like this:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/tomb_015int.png" /&gt;
&lt;p&gt;The DEM rendered with an HDR probe of Galileo&amp;rsquo;s Tomb. The terrain itself has no color (muted gray). The tone comes entirely from the HDR lighting.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Generally, this relief map looks a lot like the version rendered with the standard sun, though it is cast in the dominant color of the probe. Somewhat surprisingly, it is being lit from the northwest. I did not expect this, as HDR lighting illuminates the scene from all directions, with the strength dependent upon the light sources in the original images. The northwest lighting here is merely a convenient coincidence. If it had not occurred, we could easily rotate the probe within Blender to achieve the desired effect (or throw in a weak sun lamp to compensate).&lt;/p&gt;

&lt;h2&gt;When Things Go Awry&lt;/h2&gt;

&lt;p&gt;For another example, I rendered the DEM using a probe of a beach scene. This time the angle of lighting did not work in my favor out of the box. Initially the scene was completely lit from the top [A]. To add northwest highlights, I placed a sun lamp with a relatively flat angle of illumination in the scene [B]. Since the HDR probe can be reprojected and rotated, I also generated a version where the water was the dominant feature [C]. This cast everything in deep blue, which is interesting but not exactly what we want. Similarly, [D] is the result of orienting the probe with the sand overhead.&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/beach_quad.png" /&gt;
&lt;p&gt;The DEM rendered with alterations of a beach scene as an HDR probe.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Both the dominant hue of the probe and its orientation strongly influence the lighting of the relief map. To show just how strong this effect is, I created a relief map using an HDR probe of a rainbow spectrum:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/rainbow_relief.png" /&gt;
&lt;p&gt;As if the world really needed another rainbow map&amp;hellip; This one has a purpose, though :-)&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;In the relief map above, the entire scene is cast in a magenta hue. This is because HDR probes wrap in 360 degrees and when using a structured image (e.g., ordered hues) the leftmost pixels get stretched the most to complete the projection, resulting in an image that is mostly that color.&lt;/p&gt;

&lt;h1&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;As I hope I&amp;rsquo;ve shown, HDR lighting can work for shaded relief mapping. Whether the relief map turns out adequately is highly dependent on the source image for the probe. But all in all, it is an interesting process and one I look forward to exploring more.&lt;/p&gt;

&lt;p&gt;Even when it works well, as in my first Galileo example, the final product is still cast in the dominant hue of the probe. So why would you ever want this in shaded relief maps, which generally remain completely neutral?&lt;/p&gt;

&lt;p&gt;I have three reasons why you might want to (your mileage may vary):&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Every event occurs at some location. Similarly, every event also happens at a &lt;em&gt;time&lt;/em&gt;. The combination of both space and time is often missing from most maps; this is especially true for shaded relief maps. Although there is value (and convenience) in depicting relief while ignoring time, I find there is an attraction in representing relief that hints at the passage of time. With HDR, one could generate relief maps that accurately depict the half light of dawn or an aurora passing overhead.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Even the phenomenal results of using a ray traced sun lacks the realism of natural light. Atmospheric scattering, ambient reflections, and the azure tinting of the environment that happens at great distances is wholly absent. With little effort, HDR lighting could provide some of these.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Because you can.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;In the end, it was just fun to explore different lighting techniques. This project began as an attempt to scratch the itch of curiosity, and although there are mixed results, I think HDR lighting for shaded relief shows potential - particularly for item 2 above. As I get more time, I intend to investigate that a little further.&lt;/p&gt;

&lt;p&gt;Until then, I hope this provokes some thought and generates ideas on how we can more realistically (and even artistically) represent relief in maps with 3D software.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Open Source Copyright Infringement: Are DMCA Takedowns on GitHub Increasing?</title>
    <link rel="alternate" href="http://www.joshuastevens.net/visualization/open-source-copyright-infringement/"/>
    <id>http://www.joshuastevens.net/visualization/open-source-copyright-infringement/</id>
    <published>2014-07-07T01:00:00-04:00</published>
    <updated>2014-07-12T17:09:57-04:00</updated>
    <author>
      <name>Josh</name>
    </author>
    <content type="html">&lt;div class="fullImage"&gt;
&lt;img src="/images/octocatThumb.png" /&gt;
&lt;/div&gt;

&lt;p&gt;While browsing &lt;a href="http://www.reddit.com/r/linux"&gt;/r/linux&lt;/a&gt; I saw this post: &lt;a href="http://www.reddit.com/r/linux/comments/29vvz5/rate_of_dmca_takedown_demands_is_increasing_on/"&gt;Rate of DMCA takedown demands is increasing on GitHub&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;That sounds pretty scary, for a couple of reasons. On one hand, it could mean that companies are really dropping the hammer and coming after folks more often and &lt;a href="https://torrentfreak.com/google-further-highlights-wrongful-dmca-takedowns-130320/"&gt;potentially in error&lt;/a&gt;. On the other, it could mean the open source community is becoming more lax or lazy, using others&amp;#39; code without respecting licenses or copyright.&lt;/p&gt;

&lt;p&gt;But could there be a third alternative? Is the rate of DMCA takedowns &lt;em&gt;really&lt;/em&gt; increasing in a meaningful way? &lt;/p&gt;

&lt;p&gt;Fortunately GitHub is open about the DMCA notices they receive. Since January 27, 2011 GitHub has &lt;a href="https://github.com/github/dmca"&gt;posted each request received and each counter-notice issued&lt;/a&gt;. All 317 of them.&lt;/p&gt;

&lt;p&gt;Here they are by month.
&lt;div class="fullImage"&gt;
&lt;img src="/images/dmca_by_month.png" alt="Are DMCAs issued to GitHub on the rise?" /&gt;
&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;The graph above shows the number of DMCA takedown requests issued each month, according to GitHub&amp;rsquo;s own DMCA repo.  Another redditor made a similar &lt;a href="http://www.reddit.com/r/linux/comments/29vvz5/rate_of_dmca_takedown_demands_is_increasing_on/cip1hk0"&gt;graph&lt;/a&gt; (though I suspect from the R code posted that they didn&amp;rsquo;t filter out counter-notices).&lt;/p&gt;

&lt;p&gt;According to this data there is clearly an upward trend in DMCA takedowns, with a peak of 41 in May 2014.&lt;/p&gt;

&lt;h1&gt;Who is Issuing the Takedowns?&lt;/h1&gt;

&lt;p&gt;Most companies or individuals who issue DMCA requests to GitHub do so only once. Such requests account for 68% of all DMCAs received by GitHub. The remaining 32% of takedowns come from just 30 sources. According to the original theory that the requests are on the rise, looking at the number of takedowns per originating party could help us identify who is cracking down on copyright the hardest.&lt;/p&gt;

&lt;p&gt;Alternatively, it could reveal who developers like to infringe upon the most.&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/dmca_by_party.png" alt="Who is issuing the most DMCA takedowns to GitHub?" /&gt;
&lt;/div&gt;

&lt;p&gt;To my surprise, &lt;a href="https://codility.com/"&gt;Codility&lt;/a&gt; leads the pack - and by quite a bit. I expected Sony, Amazon, or others in the music industry to be the frontrunners.&lt;/p&gt;

&lt;p&gt;The number of takedowns from Codility becomes less surprising in the context of what Codility is: a service designed to help corporate recruiters test candidates for development positions. By having developers solve programming challenges, companies can quickly identify who has the desired skills and who does not. That saves hiring managers a lot time and money.&lt;/p&gt;

&lt;p&gt;It also gives shady candidates an incentive to share questions, code snippets, and solutions to these challenges.&lt;/p&gt;

&lt;p&gt;A quick perusal through Codility&amp;rsquo;s DMCA requests shows that&amp;rsquo;s precisely the case.&lt;/p&gt;

&lt;h1&gt;&amp;hellip;but are DMCA Takedowns Really on the Rise?&lt;/h1&gt;

&lt;p&gt;It&amp;rsquo;s hard to answer the question about what is driving DMCA takedowns on GitHub. Are companies being more aggressive about their copyrighted code? Or are developers being more fast and loose with licenses or outright stealing? One thing is clear: the total number of DMCA requests to GitHub are higher than ever.&lt;/p&gt;

&lt;h3&gt;What do More Frequent DMCA Requests Really Mean?&lt;/h3&gt;

&lt;p&gt;Just as DMCA requests are going up, the total number of repositories being created on GitHub are also increasing. Thus looking at DMCA takedowns is meaningless without considering the increase in projects over the same time.&lt;/p&gt;

&lt;p&gt;Since its launch in 2008, GitHub has seen &lt;a href="https://github.com/blog/1724-10-million-repositories"&gt;tremendous growth&lt;/a&gt;. Starting with zero users and no repositories, GitHub now boasts over &lt;strong&gt;&lt;a href="https://github.com/features"&gt;14 million repositories&lt;/a&gt;&lt;/strong&gt;. That number represents more than a doubling in repositories over the previous year. In the words of &lt;a href="https://github.com/briandoll"&gt;Brian Doll&lt;/a&gt; at GitHub:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The first million repositories were created in just under 4 years; 3 years, 8 months and 15 days to be exact. This last million took just 48 days. In fact, over 5.5M repositories â more than half of the repositories on the site â were created this year alone.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;That&amp;rsquo;s a lot of new projects. With so many projects being created, it stands to reason that more DMCA requests will follow. More code &lt;i class="fa fa-arrow-right"&gt;&lt;/i&gt; more potential for infringement. &lt;/p&gt;

&lt;p&gt;To truly reflect a more aggressive campaign against infringement - or developers playing fast and loose with copyright, the rate of DMCA takedowns would have to grow more quickly than the rate of projects being created. So let&amp;rsquo;s take a look at the rate of DMCA requests per 1,000,000 repositories over the last four years.&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/dmca_per_million.png" alt="Well then..." /&gt;
&lt;/div&gt;

&lt;p&gt;Suddenly a different picture emerges. And one that should be a bit more uplifting.&lt;/p&gt;

&lt;p&gt;The frequency of DMCA requests to GitHub may be on the rise, but so far it is not out-pacing the rate of new projects. In fact, the proportion of repositories being issued DMCA notices is at an all-time low. 2014 is not over yet and a lot could happen in the coming months. But it would take an unprecedented deluge of DMCAs to upset the current trend.&lt;/p&gt;

&lt;p&gt;In addition to encouraging readers to put away the pitchforks, I hope this also prompts a closer look at DMCA requests and the growth of GitHub. With the &lt;a href="https://developer.github.com/v3/"&gt;GitHub API&lt;/a&gt; it becomes possible to do tons of really interesting analyses of code (others already have done some &lt;a href="http://www.itworld.com/big-data/410137/python-developers-are-most-giving"&gt;fantastic work with it&lt;/a&gt;). &lt;/p&gt;

&lt;p&gt;Whatever you decide to do with the API, just don&amp;rsquo;t violate copyright - especially not under the watchful eye of Codility. And don&amp;rsquo;t rely on raw counts without taking a look at the bigger picture.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Visual Guide to Painful Hymenopteran Stings</title>
    <link rel="alternate" href="http://www.joshuastevens.net/visualization/visual-guide-to-painful-insect-stings/"/>
    <id>http://www.joshuastevens.net/visualization/visual-guide-to-painful-insect-stings/</id>
    <published>2014-06-27T01:00:00-04:00</published>
    <updated>2014-07-12T17:09:57-04:00</updated>
    <author>
      <name>Josh</name>
    </author>
    <content type="html">&lt;div class="fullImage"&gt;
&lt;img src="/images/stingFeatured.png" alt="View the other images to see which hymenopteran is the king of sting!" /&gt;
&lt;/div&gt;

&lt;p&gt;For most of us, insect stings are a thing to avoid. That&amp;rsquo;s not the case for entomologist Justin O. Schmidt. That&amp;rsquo;s because Dr. Schmidt has dedicated his life to studying venomous hymenopterans, the order of insects made up of ants, bees, and wasps. Through his research, he has been stung countless times. As a result, he developed the &lt;a href="http://en.wikipedia.org/wiki/Schmidt_sting_pain_index"&gt;Schmidt Sting Pain Index&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I stumbled upon Schmidt&amp;rsquo;s work after seeing &lt;a href="https://www.youtube.com/watch?v=1_K7Tp97PsE"&gt;this video of warrior wasps&lt;/a&gt;. One of the noteworthy characteristics of warrior wasps is that when threatened, they rhythmically flap their wings against their bodies in perfect synchrony, producing a sound not unlike marching soldiers. The other characteristic these wasps are known for is a sting that &lt;strong&gt;hurts!&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Just how much does a sting from a warrior wasp hurt? According to the pain index developed by Schmidt, the warrior wasp tops in at a 4 - the highest level of pain in the scale. What&amp;rsquo;s more, the excruciating pain will last at least 60 minutes before subsiding even the slightest.&lt;/p&gt;

&lt;p&gt;The warrior wasp is not the most painful sting recorded in Schmidt&amp;rsquo;s index, however. In fact, it pales in comparison to some other insect stings. To date, Schmidt has cataloged the painful stings of nearly 80 different hymenopteran species, from various ants to the giant Asian hornet.&lt;/p&gt;

&lt;p&gt;So which venomous insect is really the king of sting? I&amp;rsquo;ve turned Schmidt&amp;rsquo;s data into this visualization to help you decide.&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/insectStingsFull.png" alt="The Schmidt Sting Pain Index, visualized" /&gt;
&lt;/div&gt;

&lt;p&gt;In addition to the data provided by Schmidt, I&amp;rsquo;ve added the common name of the insect, or the group to which it belongs, where possible. Due to Schmidt&amp;rsquo;s expertise and rigor, many of the species listed are not commonly known. For these, I was unable to track down any common identifier.&lt;/p&gt;

&lt;p&gt;Pain is subjective. It&amp;rsquo;s possible that one person might prefer a short-lived category 4 sting over a longer, weaker category 1 or 2 sting. According to these data however, &lt;strong&gt;the bullet ant&lt;/strong&gt; (&lt;em&gt;Paraponera clavata&lt;/em&gt;) is the clear winner. The immediate category 4 pain from a bullet ant lasts for &lt;em&gt;5 hours!&lt;/em&gt; It then takes 24 hours to subside, with residual pain reported up to two weeks later. No wonder it is considered the most painful sting not just among hymenopterans, but all other insects!&lt;/p&gt;

&lt;p&gt;Such a powerful sting has earned the bullet ant a place among the &lt;a href="http://en.wikipedia.org/wiki/Maw%C3%A9_people"&gt;Satere-Mawe&lt;/a&gt;, a tribe in the Brazilian Amazon rain forest. During their coming-of-age initiation, young members of the Satere-Mawe wear mittens lined with bullet ants. For 10 minutes  initiates dance in the stinging mittens to prove their courage. They must do this not once, but &lt;em&gt;20 times before&lt;/em&gt; completing their ceremonial journey.&lt;/p&gt;

&lt;h3&gt;Pain and Place: The Bodily Geography of Schmidt&amp;rsquo;s Index&lt;/h3&gt;

&lt;p&gt;In addition to the subjective nature of pain, location matters when it comes to insect stings [&lt;a href="#refs"&gt;3&lt;/a&gt;]. Using honey bees as a baseline, Michael L. Smith &lt;a href="http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3994616/"&gt;tested the variance of Schmidt&amp;rsquo;s Pain Index&lt;/a&gt; based on where the sting occurred. According to Smith&amp;rsquo;s research, the nostril was the worst place to be stung, followed by the upper lip.&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/stingByLocationFull.png" alt="Sting Pain by Location" /&gt;
&lt;/div&gt;

&lt;p&gt;The timing of the sting and number of subsequent stings were not significant factors in pain level. Smith hypothesizes the important role of location is due to naturally protected areas that are rarely stimulated (e.g. nostrils) and soft areas that enable greater penetration. Even in its most sensitive locations, Smith notes that the human body has defenses:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Stings to the nostril were especially violent, immediately inducing sneezing, tears and a copious flow of mucus. The sting did autotomize in the nostril (self-severed when the bee was pulled away). The copious mucus flow, however, may help prevent subsequent stings to the area during a natural attack. (p. 6)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1&gt;Stings That Kill&lt;/h1&gt;

&lt;p&gt;In the United States, bee and wasp stings are responsible for the deaths of about &lt;a href="http://abcnews.go.com/Health/AllergiesNews/story?id=8148229"&gt;40 people each year&lt;/a&gt;. This makes bees more deadly than dogs, spiders, and snakes [&lt;a href="#refs"&gt;2&lt;/a&gt;]. Even sharks, which are one of the most feared animals in the world, have &lt;a href="http://oceana.org/en/our-work/protect-marine-wildlife/sharks/learn-act/shark-attack-statistics"&gt;only killed 3 people in the US during the years 2006 - 2010&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Nearly all of the deaths related to bee stings are the result of &lt;a href="http://www.nlm.nih.gov/medlineplus/ency/article/000033.htm"&gt;anaphylaxis&lt;/a&gt;, which is a severe allergic reaction that can lead to difficulty in breathing, dizziness, unconsciousness, and ultimately death. Anaphylaxis is the result of compounds in the insects&amp;#39; venom that are not related to the amount of pain inflicted. As a result, the Schmidt Pain Index is not an indicator of how deadly an animal is to humans. Small bees (pain level 1-2) kill far more people than the bullet ant (level 4).&lt;/p&gt;

&lt;p&gt;The deadliness of smaller, less painful insects has more to do with their behavior and the likelihood of an encounter. &lt;a href="http://en.wikipedia.org/wiki/Africanized_bees"&gt;Africanized honey bees&lt;/a&gt; - the famed &amp;ldquo;killer bees&amp;rdquo; - are particularly deadly because of their aggressive swarming characteristics. They are easier to provoke, attack in large numbers, and are known to chase their targets for long distances. Just last year, a man in Texas was killed after a swarm of nearly &lt;a href="http://www.usnews.com/news/newsgram/articles/2013/06/03/40000-killer-bees-sting-texas-man-to-death"&gt;40,000 killer bees&lt;/a&gt; descended upon him.&lt;/p&gt;

&lt;h3&gt;A Different Dose&lt;/h3&gt;

&lt;p&gt;Just as location affects pain, the biochemistry of the species&amp;#39; venom influences its lethality. Each species has a slightly different arrangement of enzymes in their venom, making some more lethal than others. In addition, each species injects a different amount of their venom, per sting. For example, the Honey bee injects 0.05mg of venom per sting while the fire ant can inject up to 0.1mg [&lt;a href="#refs"&gt;3&lt;/a&gt;]. Typically, insects sting other insects or smaller animals that attempt to prey on them, so their venom has not evolved for the purpose of killing humans. But with a high enough dose - delivered by the right number of stings, hymenopteran venom &lt;em&gt;can&lt;/em&gt; be lethal. Just how much does it take?&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/lethalityOfStingsFull.png" alt="Lethality of hymenopteran stings" /&gt;
&lt;p&gt;These data show the amount of venom required for death to occur as a result of the venom alone. Secondary effects, such as anaphylaxis, are not included.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Don&amp;rsquo;t be tricked by the Giant hornet&amp;rsquo;s heavy-handed dose, however. Even though it can kill with the fewest stings, the fact that it delivers far more venom than the others means that, relatively speaking, its venom is not the most potent. To be lethal to a 50kg human, the Giant hornet must inject a total of 229.6 mg of venom. In contrast, a honey bee needs to inject only 175 mg of its venom. The graph below shows how these venoms stack up in terms of potency.&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/potencyOfVenomFull.png" alt="Potency of hymenopteran venom" /&gt;
&lt;/div&gt;

&lt;p&gt;With its high potency venom and greater likelihood to be encountered, its easy to see why the honey bee kills far more people than the giant hornet or any other hymenopteran!&lt;/p&gt;

&lt;p&gt;&lt;a id="update"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Although it is responsible for the most deaths and has more potent venom than some similar species, even the honey bee has weak venom compared to the most potent of all hymenopterans. That honor goes to the &lt;a href="http://en.wikipedia.org/wiki/Pogonomyrmex_maricopa"&gt;Maricopa harvester ant&lt;/a&gt;. This species of ant has a venom that is nearly 30x more potent than the honey bee, making its venom the most potent of all insects.&lt;/p&gt;&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/honeyBeevsMaricopa.png" alt="The most potent of all hymenopterans"/&gt;
&lt;/div&gt;

&lt;p&gt;It&amp;rsquo;s one thing to have the most potent insect venom. Having the most potent venom in the animal kingdom is another. How does the Maricopa harvester ant compare to the world&amp;rsquo;s most toxic snake and the poison dart frog? I wondered that too. As it turns out, it&amp;rsquo;s not even close.&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/toxicTrioFull.png" alt="The toxic trio: Sorry, hymenopterans. The frog wins!" /&gt;
&lt;p&gt;The poison dart frog is more potent than any snake, spider, or ant venom. It even leaves the infamous Irukandji  box jellyfish and venomous cone snails (not pictured) in the dust.
&lt;/div&gt;

&lt;p&gt;It&amp;rsquo;s important to note the difference between poison and venom. Both are toxins that are produced to either protect the animal in defensive situations, or to help capture prey. The key difference is that venom is &lt;em&gt;injectected&lt;/em&gt; while poison is &lt;em&gt;injested.&lt;/em&gt; In other words, if it bites you and you die: it&amp;rsquo;s venomous. If &lt;em&gt;you bite it&lt;/em&gt; and you die: it&amp;rsquo;s poisonous.&lt;/p&gt;

&lt;p&gt;Fortunately for us the poison dart frog fits in the latter category.&lt;/p&gt;

&lt;h1&gt;Closing Thoughts&lt;/h1&gt;

&lt;p&gt;Aside from their interestingness, these data shattered a few of my preconceptions about insect stings. Being in the outdoors often has given me my fair share of stings and encounters with various bees, wasps, and hornets. Among all of these, I avoided hornets the most (the &lt;a href="http://en.wikipedia.org/wiki/Bald-faced_hornet"&gt;bald-faced hornet&lt;/a&gt; is common in every area I&amp;rsquo;ve lived). I&amp;rsquo;m willing to bet that many others also view hornets as nastier, more painful stingers than other wasps and bees.&lt;/p&gt;

&lt;p&gt;But according to the data, that needn&amp;rsquo;t be so. These hornets are no more painful than the common yellowjackets and bumble bees that frequent backyards and gardens. In fact, the pain subsides more quickly and their venom is much weaker. &lt;/p&gt;

&lt;p&gt;So what gives? Why would we fear the insects we see less frequently (such as hornets) while remaining comfortable around those most common to us (like honey bees) - despite the latter being more painful stingers and even more deadly? Personally, I think the question reveals the answer. As in many situations, it seems that fear of the unknown outweighs reality. &lt;/p&gt;

&lt;p&gt;While I won&amp;rsquo;t be hunting for a pet hornet anytime soon, I&amp;rsquo;m glad I took a look at these data and hope some of the findings were as eye-opening to you as they were for me.&lt;/p&gt;

&lt;h1 id="refs"&gt;References&lt;/h1&gt;

&lt;div class="smaller"&gt;
&lt;p&gt;[1] Schmidt, J. O. (1990). Hymenopteran venoms: striving toward the ultimate defense against vertebrates. &lt;em&gt;Insect defenses: adaptive mechanisms and strategies of prey and predators.&lt;/em&gt; State University of New York Press, Albany, 387-419.&lt;/p&gt;

&lt;p&gt;[2] Centers for Disease Control and Prevention, National Center for Health Statistics. Compressed Mortality File 1999-2010 on CDC WONDER Online Database, released January 2013. Data are compiled from Compressed Mortality File 1999-2010 Series 20 No. 2P, 2013. Accessed at http://wonder.cdc.gov/cmf-icd10.html on Jun 28, 2014 1:00:26 PM&lt;/p&gt;

&lt;p&gt;[3] Freeman, T. M. (2004). Hypersensitivity to hymenoptera stings. &lt;em&gt;New England Journal of Medicine&lt;/em&gt;, 351(19), 1978-1984.&lt;/p&gt;

&lt;p&gt;[4] Smith ML. (2014) Honey bee sting pain index by body location. PeerJ 2:e338 &lt;a href="http://dx.doi.org/10.7717/peerj.338"&gt;http://dx.doi.org/10.7717/peerj.338&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[5] Schmidt, J. O. (1983). Hymenopteran envenomation. &lt;em&gt;Urban entomology, interdisciplinary perspectives&lt;/em&gt;, 187.&lt;/p&gt;

&lt;/div&gt;
</content>
  </entry>
  <entry>
    <title>Moving from WordPress to Middleman</title>
    <link rel="alternate" href="http://www.joshuastevens.net/site/moving-from-wordpress-to-middleman/"/>
    <id>http://www.joshuastevens.net/site/moving-from-wordpress-to-middleman/</id>
    <published>2014-06-18T01:00:00-04:00</published>
    <updated>2014-06-23T19:17:30-04:00</updated>
    <author>
      <name>Josh</name>
    </author>
    <content type="html">&lt;div class="fullImage"&gt;
&lt;img src="/images/rubyMMsass.png" alt="Ruby, Sass, and Middleman are awesome together." /&gt;
&lt;/div&gt;

&lt;p&gt;Recently I&amp;rsquo;ve spent a few evenings removing WordPress and rebuilding this site on top of &lt;a href="http://www.middlemanapp.com"&gt;Middleman&lt;/a&gt;. The new site is still a work in progress and I have more features to add, but all of the previous content has been brought over. It should be safe to launch this.&lt;/p&gt;

&lt;p&gt;So why did I do it? Over the past two years I&amp;rsquo;ve become increasingly frustrated with WordPress. Despite serving compressed pages, caching data, and reducing unnecessary scripts, page load times seemed to increase with each new version. Some of my more popular pages were averaging 5 seconds to load. That&amp;rsquo;s ridiculous.&lt;/p&gt;

&lt;p&gt;Even when WordPress itself performed well, it required additional plugins just to have reasonable features (e.g., caching, contact forms, spam protection, SEO optimization, etc.). Each of these requires constant updates, and one can never be sure if updating one plugin is going to break other plugins, or worse, the entire site. Compatibility reports from other users are helpful, but are often incomplete. Logging in just to write a simple post became a chore: update this, double check that, fix this other thing that the previous update broke, and so on. Long story short, it got old. &lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/wpUpdates.png" alt="WordPress plugins are a chore to upkeep" /&gt;
&lt;p&gt;A familiar sight to WordPress users.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;On top of that, this site (and most blogs in general) really don&amp;rsquo;t need to be dynamic. Once published, the page content rarely changes. Involving a database and PHP scripts to deliver static content only adds unnecessary overhead. Under heavy load (thanks, &lt;a href="http://newsfeed.time.com/2013/09/23/want-to-find-bigfoot-now-theres-a-map-for-that/"&gt;Time&lt;/a&gt;!) I found WordPress achingly slow. During my largest traffic spike page performance suffered so much that my email exploded with inquiries about it (on the bright side, it did not go down). Nonetheless, WordPress was no longer a pest that lived only on my web server: its shortcomings were now invading my inbox.&lt;/p&gt;

&lt;p&gt;The decision to switch to something else was a long time coming. Now that I had a few evenings to spare, I was able to do something about it.&lt;/p&gt;

&lt;p&gt;So I set up Ruby, installed and configured Middleman, and re-developed everything from scratch.&lt;/p&gt;

&lt;h2&gt;The benefits have been immediate:&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Middleman is a roll-your-own beast. This site now does exactly what I want it to, no more, no less. No plugins to fuss with or break.&lt;/li&gt;
&lt;li&gt;Middleman uses the &lt;a href="http://sass-lang.com/"&gt;Sass&lt;/a&gt; CSS preprocessor and &lt;a href="http://compass-style.org/"&gt;Compass&lt;/a&gt; framework. If you&amp;rsquo;re not already using Sass + Compass, I highly recommend them. They make rapidly deploying CSS designs incredibly painless by adding variables, mixins, and functions while removing the need to worry about vendor-specific prefixes.&lt;/li&gt;
&lt;li&gt;Since all of the ruby scripts, Middleman configs and templates, and page content is first generated on my local machine, my entire site can be versioned on github and served via &lt;a href="https://pages.github.com"&gt;Github Pages&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I&amp;rsquo;ve wanted to do this before, but have been a bit hesitant. My post on &lt;a href="http://www.joshuastevens.net/visualization/squatch-watch-92-years-of-bigfoot-sightings-in-us-and-canada/"&gt;mapping sasquatch sightings&lt;/a&gt; generated a ton of discussion that I didn&amp;rsquo;t want to lose. Fortunately I could import all the comments to &lt;a href="https://disqus.com/"&gt;Disqus&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;With that all done, the new site is up and chugging along. Stay tuned for more content, and if you notice anything wonky please let me know!&lt;/p&gt;

&lt;h3&gt;Some tips on Middleman + Github Pages&lt;/h3&gt;

&lt;p&gt;If you&amp;rsquo;re thinking of using Middleman with Github Pages, there are two ways to make it really easy. The first is to use the &lt;a href="https://github.com/neo/middleman-gh-pages"&gt;middleman-gh-pages&lt;/a&gt; extension. This adds rake tasks to deploy your site upon build.&lt;/p&gt;

&lt;p&gt;The second method is to simply setup your &lt;code&gt;config.rb&lt;/code&gt; file to use your Github Pages repo as the build destination by adding:&lt;/p&gt;
&lt;div class="highlight ruby"&gt;&lt;table style="border-spacing: 0"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class="gutter gl" style="text-align: right"&gt;&lt;pre class="lineno"&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;&lt;span class="c1"&gt;# Change build directory to Github Pages repo&lt;/span&gt;
&lt;span class="n"&gt;set&lt;/span&gt; &lt;span class="ss"&gt;:build_dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'../YOUR_GH_NAME.github.io'&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;This is the approach I use. It is much cleaner - no additional rake tasks, overrides, or issues to worry about. In addition, it uses completely separate repositories for the development and production versions of your site. This enables you to test things out, revert changes, and ensure everything is working in a test environment before pushing the changes live, &lt;em&gt;even after a build&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Lastly, if you plan to use a custom 404 page, ensure your &lt;code&gt;404.html&lt;/code&gt; file is left as-is during the build operation. In &lt;code&gt;config.rb&lt;/code&gt; add:&lt;/p&gt;
&lt;div class="highlight ruby"&gt;&lt;table style="border-spacing: 0"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class="gutter gl" style="text-align: right"&gt;&lt;pre class="lineno"&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;&lt;span class="c1"&gt;# Exlude 404.html from being placed in a directory&lt;/span&gt;
&lt;span class="n"&gt;page&lt;/span&gt; &lt;span class="s2"&gt;"/404.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;:directory_index&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="kp"&gt;false&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;That&amp;rsquo;s it! Just run &lt;code&gt;$ bundle exec middleman build&lt;/code&gt; and commit the changes if you&amp;rsquo;re happy with how things work.&lt;/p&gt;

&lt;h1&gt;Update: Was developing a static site worth it?&lt;/h1&gt;

&lt;p&gt;The big question comes down to whether or not it was worth the effort to redevelop a new site. Despite already being happier with the more minimal and personal design, I wanted to compare page load times between the old and new sites. Here are the average page load times for one week before the switch, and one week after:&lt;/p&gt;

&lt;div class="fullImage"&gt;
&lt;img src="/images/siteSpeed.png" alt="WordPress is slower than mollasses in January" /&gt;
&lt;p&gt;The proof is in the pudding.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;I would say a 1500% improvement speaks for itself.&lt;/p&gt;
</content>
  </entry>
</feed>
